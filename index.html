<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>My Website</title>
    <link rel="stylesheet" href="./styles/style.css">
    <link rel="stylesheet" href="./styles/anims.css">
    <link rel="stylesheet" href="./styles/menu.css">
    <link rel="stylesheet" href="./styles/loader.css">
    <link rel="stylesheet" href="./styles/secondary-menu.css">
    <link rel="stylesheet" href="./styles/legend.css">
    <link rel="stylesheet" href="./styles/info.css">
    <link href='https://api.mapbox.com/mapbox-gl-js/v3.1.2/mapbox-gl.css' rel='stylesheet'/>
  </head>
  <body>
    <div class="screen flex-layout" id="screen-1">
      <div class="loader" id="loader-1"></div>
    </div>
    <div class="screen no-pointer" id="screen-2">
      <!-- main menu -->
      <div class="hamburger-menu map-front" id="menu-main">
        <div class="hamburger-menu-button" id="menu-btn-main">
          <div class="hamburger-menu-center">
              <div class="hamburger-menu-bar"></div>
              <div class="hamburger-menu-bar hamburger-menu-bar-mid"></div>
              <div class="hamburger-menu-bar"></div>
          </div>
        </div>
        <div class="hamburger-menu-content menu-anim-start no-pointer">
          <div class="hamburger-menu-content-layout hamburger-menu-content-layout-top">
            <div class="btn-wrapper">
              <div class="menu-info" id="btn-10">
                <div class="gg-info text-anim-mid"></div>
                <div class="close text-anim-start"></div>
              </div>
              <div class="button" id="btn-1">
                <p class="text-anim-mid">Contaminated Sites Off</p>
                <p class="text-anim-start">Contaminated Sites On</p>
              </div>
            </div>
            <div class="btn-wrapper">
              <div class="menu-info" id="btn-11">
                <div class="gg-info text-anim-mid"></div>
                <div class="close text-anim-start"></div>
              </div>
              <div class="button" id="btn-2">
                <p class="text-anim-mid">Water Facilities Off</p>
                <p class="text-anim-start">Water Facilities On</p>
              </div>
            </div>
            <div class="btn-wrapper">
              <div class="menu-info" id="btn-12">
                <div class="gg-info text-anim-mid"></div>
                <div class="close text-anim-start"></div>
              </div>
              <div class="button" id="btn-3a">
                <p class="text-anim-mid">Air Monitoring Sites Off</p>
                <p class="text-anim-start">Air Monitoring Sites On</p>
              </div>
            </div>
            <div class="btn-wrapper">
              <div class="menu-info" id="btn-15">
                <div class="gg-info text-anim-mid"></div>
                <div class="close text-anim-start"></div>
              </div>
              <div class="button" id="btn-16">
                <p class="text-anim-mid">Demographics Off</p>
                <p class="text-anim-start">Demographics On</p>
              </div>
            </div>
            <div class="btn-wrapper">
              <div class="menu-info" id="btn-14">
                <div class="gg-info text-anim-mid"></div>
                <div class="close text-anim-start"></div>
              </div>
              <div class="button" id="btn-3">
                <p class="text-anim-mid">Envionrment Score On</p>
                <p class="text-anim-start">Envionrment Score Off</p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- related to contaimed sites -->
      <div class="legend map-front mapinfo-sites mapinfo-anim-out" id="legend-sites">
        <p class="legend-title">
          Risk Score
        </p>
        <div class="legend-item">
          <div class="legend-pic pointer" id="legend-sites-pic-0">
            <div class="hexagon-left hexa-0-left"></div>
            <div class="hexagon-middle hexa-0-mid"></div>
            <div class="hexagon-right hexa-0-right"></div>
          </div>
          <div class="legend-desc">
            <p id="legend-sites-desc-0"></p>
          </div>
        </div>
        <div class="legend-item">
          <div class="legend-pic pointer" id="legend-sites-pic-1">
            <div class="hexagon-left hexa-1-left"></div>
            <div class="hexagon-middle hexa-1-mid"></div>
            <div class="hexagon-right hexa-1-right"></div>
          </div>
          <div class="legend-desc">
            <p id="legend-sites-desc-1"></p>
          </div>
        </div>
        <div class="legend-item">
          <div class="legend-pic pointer" id="legend-sites-pic-2">
            <div class="hexagon-left hexa-2-left"></div>
            <div class="hexagon-middle hexa-2-mid"></div>
            <div class="hexagon-right hexa-2-right"></div>
          </div>
          <div class="legend-desc">
            <p id="legend-sites-desc-2"></p>
          </div>
        </div>
        <div class="legend-item">
          <div class="legend-pic pointer" id="legend-sites-pic-3">
            <div class="hexagon-left hexa-3-left"></div>
            <div class="hexagon-middle hexa-3-mid"></div>
            <div class="hexagon-right hexa-3-right"></div>
          </div>
          <div class="legend-desc">
            <p id="legend-sites-desc-3"></p>
          </div>
        </div>
        <div class="legend-item">
          <div class="legend-pic pointer" id="legend-sites-pic-4">
            <div class="hexagon-left hexa-4-left"></div>
            <div class="hexagon-middle hexa-4-mid"></div>
            <div class="hexagon-right hexa-4-right"></div>
          </div>
          <div class="legend-desc">
            <p id="legend-sites-desc-4"></p>
          </div>
        </div>
        <div class="legend-item">
          <div class="legend-pic pointer" id="legend-sites-pic-5">
            <div class="hexagon-left hexa-5-left"></div>
            <div class="hexagon-middle hexa-5-mid"></div>
            <div class="hexagon-right hexa-5-right"></div>
          </div>
          <div class="legend-desc">
            <p id="legend-sites-desc-5"></p>
          </div>
        </div>
        <div class="legend-item">
          <div class="legend-pic pointer" id="legend-sites-pic-6">
            <div class="hexagon-left hexa-6-left"></div>
            <div class="hexagon-middle hexa-6-mid"></div>
            <div class="hexagon-right hexa-6-right"></div>
          </div>
          <div class="legend-desc">
            <p id="legend-sites-desc-6"></p>
          </div>
        </div>
        <div class="legend-item">
          <div class="legend-pic pointer" id="legend-sites-pic-7">
            <div class="hexagon-left hexa-7-left"></div>
            <div class="hexagon-middle hexa-7-mid"></div>
            <div class="hexagon-right hexa-7-right"></div>
          </div>
          <div class="legend-desc">
            <p id="legend-sites-desc-7"></p>
          </div>
        </div>
      </div>
      <div class="secondary-menu map-front menu-anim-start no-pointer" id="secondary-menu-sites">
        <div class="btn-wrapper">
          <div class="button" id="btn-secondary-sites-hex">
            <p class="text-anim-mid">Generate Hexgrid</p>
            <p class="text-anim-start">Clear Hexgrid</p>
          </div>
        </div>
      </div>
      <!-- related to treatment stations -->
      <div class="secondary-menu map-front menu-anim-start no-pointer" id="secondary-menu-water">
        <div class="btn-wrapper">
          <div class="button" id="btn-secondary-water-hover">
            <p class="text-anim-mid">Hover Popup Enabled</p>
            <p class="text-anim-start">Hover Popup Disabled</p>
          </div>
        </div>
        <div class="btn-wrapper">
          <div class="button" id="btn-secondary-water-area">
            <p class="text-anim-mid">Hover Effect Enabled</p>
            <p class="text-anim-start">Hover Effect Disabled</p>
          </div>
        </div>
      </div>
      <!-- related  to air stations-->
      <div class="secondary-menu map-front menu-anim-start no-pointer" id="secondary-menu-air">
        <div class="btn-wrapper">
          <div class="button" id="btn-secondary-air-hover">
            <p class="text-anim-mid">Hover Popup Enabled</p>
            <p class="text-anim-start">Hover Popup Disabled</p>
          </div>
        </div>
      </div>
      <!-- related to sociodemographic -->
      <div class="legend map-front mapinfo-anim-out mapinfo-socio" id="legend-socio">
        <p class="legend-title">
          CHANGE
        </p>
        <div class="legend-item">
          <div class="legend-pic pointer" id="legend-socio-pic-0">
          </div>
          <div class="legend-desc">
            <p>CHANGE</p>
          </div>
        </div>
        <div class="legend-item">
          <div class="legend-pic pointer" id="legend-socio-pic-1">
          </div>
          <div class="legend-desc">
            <p>≤ 11</p>
          </div>
        </div>
        <div class="legend-item">
          <div class="legend-pic pointer" id="legend-socio-pic-2">
          </div>
          <div class="legend-desc">
            <p>≤ 13</p>
          </div>
        </div>
        <div class="legend-item">
          <div class="legend-pic pointer" id="legend-socio-pic-3">
          </div>
          <div class="legend-desc">
            <p>≤ 15</p>
          </div>
        </div>
        <div class="legend-item">
          <div class="legend-pic pointer" id="legend-socio-pic-4">
          </div>
          <div class="legend-desc">
            <p>≤ 20</p>
          </div>
        </div>
      </div>
      <div class="secondary-menu map-front menu-anim-start no-pointer" id="secondary-menu-socio">
        <div class="btn-wrapper">
          <div class="button" id="btn-secondary-socio-hover">
            <p class="text-anim-mid">Hover Popup Enabled</p>
            <p class="text-anim-start">Hover Popup Disabled</p>
          </div>
        </div>
        <div class="btn-wrapper">
          <div class="button" id="btn-secondary-socio-legend">
            <p class="text-anim-mid">Clickable Legend On</p>
            <p class="text-anim-start">Clickable Legend Off</p>
          </div>
        </div>
      </div>
      <!-- related to chloropleth -->
      <div class="legend map-front mapinfo-index" id="legend-index">
        <p class="legend-title">
          Env. Score
        </p>
        <div class="legend-item">
          <div class="legend-pic pointer" id="legend-index-pic-0">
          </div>
          <div class="legend-desc">
            <p>Negligible</p>
          </div>
        </div>
        <div class="legend-item">
          <div class="legend-pic pointer" id="legend-index-pic-1">
          </div>
          <div class="legend-desc">
            <p>Low</p>
          </div>
        </div>
        <div class="legend-item">
          <div class="legend-pic pointer" id="legend-index-pic-2">
          </div>
          <div class="legend-desc">
            <p>Moderate</p>
          </div>
        </div>
        <div class="legend-item">
          <div class="legend-pic pointer" id="legend-index-pic-3">
          </div>
          <div class="legend-desc">
            <p>High</p>
          </div>
        </div>
        <div class="legend-item">
          <div class="legend-pic pointer" id="legend-index-pic-4">
          </div>
          <div class="legend-desc">
            <p>Extreme</p>
          </div>
        </div>
      </div>
      <div class="secondary-menu map-front menu-anim-start no-pointer" id="secondary-menu-index">
        <div class="btn-wrapper">
          <div class="button" id="btn-secondary-index-hover">
            <p class="text-anim-mid">Hover Popup Enabled</p>
            <p class="text-anim-start">Hover Popup Disabled</p>
          </div>
        </div>
        <div class="btn-wrapper">
          <div class="button" id="btn-secondary-index-legend">
            <p class="text-anim-mid">Clickable Legend On</p>
            <p class="text-anim-start">Clickable Legend Off</p>
          </div>
        </div>
      </div>
      
      <!-- all infos -->
      <div class="info-content map-front mapinfo-anim-start no-pointer" id="info-popup-sites">
        <div class="info-content-words">
          <p>
            This layer displays the location of contaminated sites. Federal contaminated sites are located on land owned
            or leased by the government. <br> <br> 
            A contaminated site is “one at which substances occur at concentrations that: 
            (1) are above background levels and pose, or are likely to pose, an immediate or long-term hazard to human health
            or the environment; or (2) exceed the levels specified in policies and regulations. (Government of Canada, 2024)
            <br> <br>

            Sites are categorized based on their active status and priority level. Most sites are classed as medium priority. 
            All 528 sites on the map are currently active,
            meaning that contamination has been confirmed and remedial action is or may be required.

          </p>
        </div>
      </div>
      <div class="info-content map-front mapinfo-anim-start no-pointer" id="info-popup-water">
        <div class="info-content-words">
          <p>
            This layer displays the location of water intake facilities. The 22 drinking water intakes on the map test for various
            chemicals and contaminants, and at multiple times throughout the year. These chemicals include ammonia, 
            chloride, and chlorophyll. Only phosphorus and nitrogen were included in our risk analysis. <br><br>

            Phosphorus and nitrogen are identified as chemicals of interest due to their involvement in eutrophication. 
            Eutrophication is the process of an accumulation of nutrients (mainly phosphorus and nitrogen) in an aquatic ecosystem.
            This leads to the increased growth of algae and plant matter.
            Eutrophication can lead to harmful algal blooms (HAB) and low-oxygen (hypoxic) waters, which has negative impacts on marine life.<br><br>

            Eutrophication can also negative impacts on human health. These include respiratory problems, rashes, and stomach or liver illnesses.<br>
            (Hwang, 2020)

          </p>
        </div>
      </div>
      <div class="info-content map-front mapinfo-anim-start no-pointer" id="info-popup-air">
        <div class="info-content-words">
          <p>
            This layer shows the air quality montiroing stationg located in
            Ontario. The main particle of interest if PM2.5. Fine particulate matter,
            or PM2.5, is an air pollutant that is
            either emitted from external sources (primary particles) or
            formed in the atmosphere through chemical processes (secondary
            particles). Short-term exposure to PM2.5 has been associated with
            premature mortality, increased hospital admissions, acute and
            chronic bronchitis, and asthma attacks. 
            (California Air Resources Board)
          </p>
        </div>
      </div>
      <div class="info-content map-front mapinfo-anim-start no-pointer" id="info-popup-index">
        <div class="info-content-words">
          <p>
            Our choropleth map layer displays census subdivisions based on their combined level of environmental risk. 
            This measure was calculated by calculating quantiles of our environmental indicator values for water quality (mean phosphorus and
            nitrogen levels), air quality (mean PM2.5 concentration), and proximity to contaminated sites (total sum of sites within a census
            subdivision).<br><br>            
          </p>
        </div>
      </div>
      <!-- main map -->
      <div id="my-map" class="map-container"></div>
    </div>
    <div class="screen map-back" id="screen-3">
      <!-- chloropleth index -->
      <div class="mapinfo-info-1 infopage">
        <div class="info-page-content no-pointer">
          <div class="info-content-words">
            <p>
              Our choropleth map layer displays census subdivisions based on their combined level of environmental risk. 
              This measure was calculated by calculating quantiles of our environmental indicator values for water quality (mean phosphorus and
              nitrogen levels), air quality (mean PM2.5 concentration), and proximity to contaminated sites (total sum of sites within a census
              subdivision).<br><br>  
            </p>
          </div>
        </div>
      </div>
      <!-- water treatment facilities -->
      <div class="mapinfo-info-2 infopage">
        <div class="info-page-content no-pointer">
          <div class="info-content-words">
            <p>
              This layer displays the location of water intake facilities. The 22 drinking water intakes on the map test for various
              chemicals and contaminants, and at multiple times throughout the year. These chemicals include ammonia, 
              chloride, and chlorophyll. Only phosphorus and nitrogen were included in our risk analysis. <br><br>

              Phosphorus and nitrogen are identified as chemicals of interest due to their involvement in eutrophication. 
              Eutrophication is the process of an accumulation of nutrients (mainly phosphorus and nitrogen) in an aquatic ecosystem.
              This leads to the increased growth of algae and plant matter.
              Eutrophication can lead to harmful algal blooms (HAB) and low-oxygen (hypoxic) waters, which has negative impacts on marine life.<br><br>

              Eutrophication can also negative impacts on human health. These include respiratory problems, rashes, and stomach or liver illnesses.<br>
              (Hwang, 2020)

            </p>
          </div>
        </div>
      </div>
      <!-- air monitoring sites -->
      <div class="mapinfo-info-3 infopage">
        <div class="info-page-content no-pointer">
          <div class="info-content-words">
            <p>
              This layer shows the air quality montiroing stationg located in
              Ontario. The main particle of interest if PM2.5. Fine particulate matter,
              or PM2.5, is an air pollutant that is
              either emitted from external sources (primary particles) or
              formed in the atmosphere through chemical processes (secondary
              particles). Short-term exposure to PM2.5 has been associated with
              premature mortality, increased hospital admissions, acute and
              chronic bronchitis, and asthma attacks. 
              (California Air Resources Board)
            </p>
          </div>
        </div>
      </div>
      <!-- contaminated sites -->
      <div class="mapinfo-info-4 infopage">
        <div class="info-page-content no-pointer">
          <div class="info-content-words">
            <p>
              This layer displays the location of contaminated sites. Federal contaminated sites are located on land owned
              or leased by the government. <br> <br> 
              A contaminated site is “one at which substances occur at concentrations that: 
              (1) are above background levels and pose, or are likely to pose, an immediate or long-term hazard to human health
              or the environment; or (2) exceed the levels specified in policies and regulations. (Government of Canada, 2024)
              <br> <br>
  
              Sites are categorized based on their active status and priority level. Most sites are classed as medium priority. 
              All 528 sites on the map are currently active,
              meaning that contamination has been confirmed and remedial action is or may be required.
            </p>
          </div>
        </div>
      </div>
      <!-- instructions -->
      <div class="mapinfo-info-5 infopage">
        
      </div>
      <div class="nav-bar-wrapper">
        <div class="nav-bar">
          <div class="nav-item" id="btn-31">
            <p class="text-anim-mid">Chloropleth</p>
            <p class="text-anim-start">Shown</p>
          </div>
          <div class="nav-item" id="btn-32">
            <p class="text-anim-mid">Water</p>
            <p class="text-anim-start">Shown</p>
          </div>
          <div class="nav-item" id="btn-33">
            <p class="text-anim-mid">Air</p>
            <p class="text-anim-start">Shown</p>
          </div>
          <div class="nav-item" id="btn-34">
            <p class="text-anim-mid">Contaminated</p>
            <p class="text-anim-start">Shown</p>
          </div>
          <div class="nav-item no-pointer" id="btn-35">
            <p class="text-anim-mid">Shown</p>
            <p class="text-anim-start">Instructions</p>
          </div>
        </div>
      </div>
    </div>
    <div class="menu-info bigger-menu-info map-front" id="btn-20">
      <div class="gg-info enlarge text-anim-mid"></div>
      <div class="close enlarge text-anim-start"></div>
    </div>
  </body>

  <script src='https://api.mapbox.com/mapbox-gl-js/v3.1.2/mapbox-gl.js'></script>
  <script src='https://unpkg.com/@turf/turf@6/turf.min.js'></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
  <!-- order here matters since JS variables are used between files -->
  <!-- partial order is determined by spaces, utils first -->
  <script src="./src/utils.js"></script>
  <script src="./src/animations.js"></script>

  <script src="./src/layers/layer-sites.js"></script>
  <script src="./src/layers/layer-index.js"></script>
  <script src="./src/layers/layer-air.js"></script>
  <script src="./src/layers/layer-water.js"></script>
  <script src="./src/layers/layer-socio.js"></script>

  <script src="./src/setup.js"></script>

  <script src="./src/main.js"></script>
</html>
