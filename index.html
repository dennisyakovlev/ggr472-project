<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Envionrmental Webmap</title>
    <link rel="icon" type="image/x-icon" href="https://raw.githubusercontent.com/dennisyakovlev/ggr472-project/master/images/globe.png">

    <link rel="stylesheet" href="./styles/style.css">
    <link rel="stylesheet" href="./styles/anims.css">
    <link rel="stylesheet" href="./styles/menu.css">
    <link rel="stylesheet" href="./styles/loader.css">
    <link rel="stylesheet" href="./styles/legend.css">
    <link href='https://api.mapbox.com/mapbox-gl-js/v3.1.2/mapbox-gl.css' rel='stylesheet'/>
  </head>
  <body>
    <div class="screen flex-layout" id="screen-1">
      <div class="loader" id="loader-1"></div>
    </div>
    <div class="screen no-pointer" id="screen-2">
      <!-- navigation bar -->
      <div class="nav-bar-wrapper nav-top">
        <div class="nav-bar"> 
          <div class="nav-item" id="trigger-nav-env">
            <div class="nav-background opacity-slide-anim-start" id="background-nav-env"></div>
            <p>Indicators</p>
          </div>
          <div class="nav-item" id="trigger-nav-demo">
            <div class="nav-background opacity-slide-anim-start" id="background-nav-demo"></div>
            <p>Demographics</p>
          </div>
          <div class="nav-item">
            <p class="text-anim-mid">Envionrmental Risk</p>
            <p class="text-anim-start">Shown</p>
          </div>
          <div class="nav-item" id="trigger-nav-assess">
            <div class="nav-background opacity-slide-anim-start" id="background-nav-assess"></div>
            <p>Assessment</p>
          </div>
        </div>
      </div>

      <!-- related to envionmental indicators -->
      <div class="menu vertical-menu-anim-start map-front no-pointer" id="vertical-menu-env">
        <div class="btn-wrapper">
          <div class="menu-info" class="trigger-text-info-0">
            <div class="gg-info text-anim-mid"></div>
            <div class="close text-anim-start"></div>
          </div>
          <div class="button" id="trigger-secondary-sites">
            <p class="text-anim-start" id="text-a-secondary-sites">Contaminated Sites Off</p>
            <p class="text-anim-start" id="text-b-secondary-sites">Contaminated Sites On</p>
          </div>
        </div>
        <div class="btn-wrapper">
          <div class="menu-info">
            <div class="gg-info text-anim-mid"></div>
            <div class="close text-anim-start"></div>
          </div>
          <div class="button" id="trigger-secondary-water">
            <p class="text-anim-start" id="text-a-secondary-water">Water Facilities Off</p>
            <p class="text-anim-start" id="text-b-secondary-water">Water Facilities On</p>
          </div>
        </div>
        <div class="btn-wrapper">
          <div class="menu-info">
            <div class="gg-info text-anim-mid"></div>
            <div class="close text-anim-start"></div>
          </div>
          <div class="button" id="trigger-secondary-air">
            <p class="text-anim-start" id="text-a-secondary-air">Air Monitoring Sites Off</p>
            <p class="text-anim-start" id="text-b-secondary-air">Air Monitoring Sites On</p>
          </div>
        </div>
      </div>
        <!-- realted to contaminated sites -->
        <div class="menu horizontal-menu-anim-start map-front no-pointer" id="horizontal-menu-secondary-sites">
          <div class="btn-wrapper" id="btn-secondary-sites-popup">
            <div class="button">
              <p class="text-anim-start" id="text-a-secondary-sites-popup">Popup Enabled</p>
              <p class="text-anim-start" id="text-b-secondary-sites-popup">Popup Disabled</p>
            </div>
          </div>
          <div class="btn-wrapper" id="btn-secondary-sites-hex">
            <div class="button">
              <p class="text-anim-mid">Generate Hexgrid</p>
              <p class="text-anim-start">Clear Hexgrid</p>
            </div>
          </div>
        </div>
        <div class="info-text" id="result-text-info-0">

        </div>
        <!-- related to water facilites -->
        <div class="menu horizontal-menu-anim-start map-front no-pointer" id="horizontal-menu-secondary-water">
          <div class="btn-wrapper" id="btn-secondary-water-popup">
            <div class="button">
              <p class="text-anim-start" id="text-a-secondary-water-popup">Popup Enabled</p>
              <p class="text-anim-start" id="text-b-secondary-water-popup">Popup Disabled</p>
            </div>
          </div>
          <div class="btn-wrapper" id="btn-secondary-water-hover">
            <div class="button">
              <p class="text-anim-start" id="text-a-secondary-water-hover">Hover Enabled</p>
              <p class="text-anim-start" id="text-b-secondary-water-hover">Hover Disabled</p>
            </div>
          </div>
        </div>
        <!-- related to air monitoring sites -->
        <div class="menu horizontal-menu-anim-start map-front no-pointer" id="horizontal-menu-secondary-air">
          <div class="btn-wrapper" id="btn-secondary-air-popup">
            <div class="button">
              <p class="text-anim-start" id="text-a-secondary-air-popup">Popup Enabled</p>
              <p class="text-anim-start" id="text-b-secondary-air-popup">Popup Disabled</p>
            </div>
          </div>
        </div>

      <!-- related to demographic characteristics -->
      <div class="menu vertical-menu-anim-start map-front no-pointer" id="vertical-menu-demo">
        <div class="btn-wrapper">
          <div class="menu-info">
            <div class="gg-info text-anim-mid"></div>
            <div class="close text-anim-start"></div>
          </div>
          <div class="button" id="trigger-secondary-immigrant">
            <p class="text-anim-start" id="text-a-secondary-immigrant">Immigration Off</p>
            <p class="text-anim-start" id="text-b-secondary-immigrant">Immigration On</p>
          </div>
        </div>
        <div class="btn-wrapper">
          <div class="menu-info">
            <div class="gg-info text-anim-mid"></div>
            <div class="close text-anim-start"></div>
          </div>
          <div class="button" id="trigger-secondary-income">
            <p class="text-anim-start" id="text-a-secondary-income">Income Off</p>
            <p class="text-anim-start" id="text-b-secondary-income">Income On</p>
          </div>
        </div>
        <div class="btn-wrapper">
          <div class="menu-info">
            <div class="gg-info text-anim-mid"></div>
            <div class="close text-anim-start"></div>
          </div>
          <div class="button" id="trigger-secondary-minority">
            <p class="text-anim-start" id="text-a-secondary-minority">Minority Off</p>
            <p class="text-anim-start" id="text-b-secondary-minority">Minority On</p>
          </div>
        </div>
      </div>
        <!-- related to immigration -->
        <div class="menu horizontal-menu-anim-start map-front no-pointer" id="horizontal-menu-secondary-immigrant">
          <div class="btn-wrapper" id="btn-secondary-immigrant-popup">
            <div class="button">
              <p class="text-anim-start" id="text-a-secondary-immigrant-popup">Popup Enabled</p>
              <p class="text-anim-start" id="text-b-secondary-immigrant-popup">Popup Disabled</p>
            </div>
          </div>
        </div>
        <div class="legend legend-chloro horizontal-menu-anim-start no-pointer map-front" id="legend-immigrant">
          <div class="legend-title-wrapper">
            <p class="legend-title">
              Immigrant <br> Percentage
            </p>
          </div>
          <div class="legend-item pointer" id="legend-immigrant-0">
            <div class="legend-pic-wrapper">
              <div class="legend-pic2 legend-pic-foreground legend-chloro-pic-0"></div>
              <div class="legend-pic2 legend-pic-background opacity-anim-start" id="legend-immigrant-background-0"></div>
            </div>
            <div class="legend-desc">
              <p>Negligible</p>
            </div>
          </div>
          <div class="legend-item pointer" id="legend-immigrant-1">
            <div class="legend-pic-wrapper">
              <div class="legend-pic2 legend-pic-foreground legend-chloro-pic-1"></div>
              <div class="legend-pic2 legend-pic-background opacity-anim-start" id="legend-immigrant-background-1"></div>
            </div>
            <div class="legend-desc">
              <p>Low</p>
            </div>
          </div>
          <div class="legend-item pointer" id="legend-immigrant-2">
            <div class="legend-pic-wrapper">
              <div class="legend-pic2 legend-pic-foreground legend-chloro-pic-2"></div>
              <div class="legend-pic2 legend-pic-background opacity-anim-start" id="legend-immigrant-background-2"></div>
            </div>
            <div class="legend-desc">
              <p>Moderate</p>
            </div>
          </div>
          <div class="legend-item pointer" id="legend-immigrant-3">
            <div class="legend-pic-wrapper">
              <div class="legend-pic2 legend-pic-foreground legend-chloro-pic-3"></div>
              <div class="legend-pic2 legend-pic-background opacity-anim-start" id="legend-immigrant-background-3"></div>
            </div>
            <div class="legend-desc">
              <p>High</p>
            </div>
          </div>
        </div>
        <!-- related to income -->
        <div class="menu horizontal-menu-anim-start map-front no-pointer" id="horizontal-menu-secondary-income">
          <div class="btn-wrapper" id="btn-secondary-income-popup">
            <div class="button">
              <p class="text-anim-start" id="text-a-secondary-income-popup">Popup Enabled</p>
              <p class="text-anim-start" id="text-b-secondary-income-popup">Popup Disabled</p>
            </div>
          </div>
        </div>
        <div class="legend legend-chloro horizontal-menu-anim-start no-pointer map-front" id="legend-income">
          <div class="legend-title-wrapper">
            <p class="legend-title">
              Low Income <br> Percentage
            </p>
          </div>
          <div class="legend-item pointer" id="legend-income-0">
            <div class="legend-pic-wrapper">
              <div class="legend-pic2 legend-pic-foreground legend-chloro-pic-0"></div>
              <div class="legend-pic2 legend-pic-background opacity-anim-start" id="legend-income-background-0"></div>
            </div>
            <div class="legend-desc">
              <p>Negligible</p>
            </div>
          </div>
          <div class="legend-item pointer" id="legend-income-1">
            <div class="legend-pic-wrapper">
              <div class="legend-pic2 legend-pic-foreground legend-chloro-pic-1"></div>
              <div class="legend-pic2 legend-pic-background opacity-anim-start" id="legend-income-background-1"></div>
            </div>
            <div class="legend-desc">
              <p>Low</p>
            </div>
          </div>
          <div class="legend-item pointer" id="legend-income-2">
            <div class="legend-pic-wrapper">
              <div class="legend-pic2 legend-pic-foreground legend-chloro-pic-2"></div>
              <div class="legend-pic2 legend-pic-background opacity-anim-start" id="legend-income-background-2"></div>
            </div>
            <div class="legend-desc">
              <p>Moderate</p>
            </div>
          </div>
          <div class="legend-item pointer" id="legend-income-3">
            <div class="legend-pic-wrapper">
              <div class="legend-pic2 legend-pic-foreground legend-chloro-pic-3"></div>
              <div class="legend-pic2 legend-pic-background opacity-anim-start" id="legend-income-background-3"></div>
            </div>
            <div class="legend-desc">
              <p>High</p>
            </div>
          </div>
        </div>
        <!-- related to minority -->
        <div class="menu horizontal-menu-anim-start map-front no-pointer" id="horizontal-menu-secondary-minority">
          <div class="btn-wrapper" id="btn-secondary-minority-popup">
            <div class="button">
              <p class="text-anim-start" id="text-a-secondary-minority-popup">Popup Enabled</p>
              <p class="text-anim-start" id="text-b-secondary-minority-popup">Popup Disabled</p>
            </div>
          </div>
        </div>
        <div class="legend legend-chloro horizontal-menu-anim-start no-pointer map-front" id="legend-minority">
          <div class="legend-title-wrapper">
            <p class="legend-title">
              Low Minority <br> Percentage
            </p>
          </div>
          <div class="legend-item pointer" id="legend-minority-0">
            <div class="legend-pic-wrapper">
              <div class="legend-pic2 legend-pic-foreground legend-chloro-pic-0"></div>
              <div class="legend-pic2 legend-pic-background opacity-anim-start" id="legend-minority-background-0"></div>
            </div>
            <div class="legend-desc">
              <p>Negligible</p>
            </div>
          </div>
          <div class="legend-item pointer" id="legend-minority-1">
            <div class="legend-pic-wrapper">
              <div class="legend-pic2 legend-pic-foreground legend-chloro-pic-1"></div>
              <div class="legend-pic2 legend-pic-background opacity-anim-start" id="legend-minority-background-1"></div>
            </div>
            <div class="legend-desc">
              <p>Low</p>
            </div>
          </div>
          <div class="legend-item pointer" id="legend-minority-2">
            <div class="legend-pic-wrapper">
              <div class="legend-pic2 legend-pic-foreground legend-chloro-pic-2"></div>
              <div class="legend-pic2 legend-pic-background opacity-anim-start" id="legend-minority-background-2"></div>
            </div>
            <div class="legend-desc">
              <p>Moderate</p>
            </div>
          </div>
          <div class="legend-item pointer" id="legend-minority-3">
            <div class="legend-pic-wrapper">
              <div class="legend-pic2 legend-pic-foreground legend-chloro-pic-3"></div>
              <div class="legend-pic2 legend-pic-background opacity-anim-start" id="legend-minority-background-3"></div>
            </div>
            <div class="legend-desc">
              <p>High</p>
            </div>
          </div>
        </div>

      <!-- related to enviornmental risk -->
      
      <!-- related to assesment -->
      <div class="menu vertical-menu-anim-start map-front no-pointer" id="vertical-menu-assess">
        <div class="btn-wrapper" id="trigger-secondary-assess-choose-a">
          <div class="menu-info">
            <div class="menu-assess-next"></div>
          </div>
          <div class="button">
            <p class="text-anim-start" id="text-0-secondary-assess-choose-a">Immigration</p>
            <p class="text-anim-start" id="text-1-secondary-assess-choose-a">Income</p>
            <p class="text-anim-start" id="text-2-secondary-assess-choose-a">Minority</p>
            <p class="text-anim-start" id="text-3-secondary-assess-choose-a">Env. Risk</p>
          </div>
        </div>
        <div class="btn-wrapper" id="trigger-secondary-assess-quartile-a">
          <div class="button-assess">
            <div class="legend-pic-wrapper">
              <div class="legend-pic2 legend-pic-foreground legend-chloro-pic-0"></div>
              <div class="legend-pic2 legend-pic-background opacity-anim-start" id="secondary-assess-quartile-a-background-0"></div>
              <div class="legend-pic2 legend-asses-trigger" id="trigger-secondary-assess-quartile-a-0"></div>
            </div>
            <div class="legend-pic-wrapper">
              <div class="legend-pic2 legend-pic-foreground legend-chloro-pic-1"></div>
              <div class="legend-pic2 legend-pic-background opacity-anim-start" id="secondary-assess-quartile-a-background-1"></div>
              <div class="legend-pic2 legend-asses-trigger" id="trigger-secondary-assess-quartile-a-1"></div>
            </div>
            <div class="legend-pic-wrapper">
              <div class="legend-pic2 legend-pic-foreground legend-chloro-pic-2"></div>
              <div class="legend-pic2 legend-pic-background opacity-anim-start" id="secondary-assess-quartile-a-background-2"></div>
              <div class="legend-pic2 legend-asses-trigger" id="trigger-secondary-assess-quartile-a-2"></div>
            </div>
            <div class="legend-pic-wrapper">
              <div class="legend-pic2 legend-pic-foreground legend-chloro-pic-3"></div>
              <div class="legend-pic2 legend-pic-background opacity-anim-start" id="secondary-assess-quartile-a-background-3"></div>
              <div class="legend-pic2 legend-asses-trigger" id="trigger-secondary-assess-quartile-a-3"></div>
            </div>
          </div>
        </div>
        <div class="btn-wrapper" id="trigger-secondary-assess-choose-b">
          <div class="menu-info">
            <div class="menu-assess-next"></div>
          </div>
          <div class="button">
            <p class="text-anim-start" id="text-0-secondary-assess-choose-b">Immigration</p>
            <p class="text-anim-start" id="text-1-secondary-assess-choose-b">Income</p>
            <p class="text-anim-start" id="text-2-secondary-assess-choose-b">Minority</p>
            <p class="text-anim-start" id="text-3-secondary-assess-choose-b">Env. Risk</p>
          </div>
        </div>
        <div class="btn-wrapper" id="trigger-secondary-assess-quartile-b">
          <div class="button-assess">
            <div class="legend-pic-wrapper">
              <div class="legend-pic2 legend-pic-foreground legend-chloro-pic-0"></div>
              <div class="legend-pic2 legend-pic-background opacity-anim-start" id="secondary-assess-quartile-b-background-0"></div>
              <div class="legend-pic2 legend-asses-trigger" id="trigger-secondary-assess-quartile-b-0"></div>
            </div>
            <div class="legend-pic-wrapper">
              <div class="legend-pic2 legend-pic-foreground legend-chloro-pic-1"></div>
              <div class="legend-pic2 legend-pic-background opacity-anim-start" id="secondary-assess-quartile-b-background-1"></div>
              <div class="legend-pic2 legend-asses-trigger" id="trigger-secondary-assess-quartile-b-1"></div>
            </div>
            <div class="legend-pic-wrapper">
              <div class="legend-pic2 legend-pic-foreground legend-chloro-pic-2"></div>
              <div class="legend-pic2 legend-pic-background opacity-anim-start" id="secondary-assess-quartile-b-background-2"></div>
              <div class="legend-pic2 legend-asses-trigger" id="trigger-secondary-assess-quartile-b-2"></div>
            </div>
            <div class="legend-pic-wrapper">
              <div class="legend-pic2 legend-pic-foreground legend-chloro-pic-3"></div>
              <div class="legend-pic2 legend-pic-background opacity-anim-start" id="secondary-assess-quartile-b-background-3"></div>
              <div class="legend-pic2 legend-asses-trigger" id="trigger-secondary-assess-quartile-b-3"></div>
            </div>
          </div>
        </div>
        <div class="btn-wrapper" id="trigger-secondary-assess-op">
          <div class="menu-info">
            <div class="menu-assess-next"></div>
          </div>
          <div class="button">
            <p class="text-anim-start" id="text-0-secondary-assess-op">Element-wise AND</p>
            <p class="text-anim-start" id="text-1-secondary-assess-op">Element-wise OR</p>
          </div>
        </div>
        <div class="btn-wrapper">
          <div class="menu-info">
            <div class="gg-info text-anim-mid"></div>
            <div class="close text-anim-start"></div>
          </div>
          <div class="button" id="trigger-secondary-assess-run">
            <p class="text-anim-start" id="text-a-secondary-assess-run">Run</p>
            <p class="text-anim-start" id="text-b-secondary-assess-run">Done, Reset?</p>
          </div>
        </div>
      </div>

      <!-- main map -->
      <div id="my-map" class="map-container"></div>







      <!-- related to contaimed sites -->
      <!-- NOTE: if have time, use -->
      <div class="legend map-front mapinfo-sites mapinfo-anim-out" id="legend-sites">
        <p class="legend-title">
          Risk Score
        </p>
        <div class="legend-item">
          <div class="legend-pic pointer" id="legend-sites-pic-0">
            <div class="hexagon-left hexa-0-left"></div>
            <div class="hexagon-middle hexa-0-mid"></div>
            <div class="hexagon-right hexa-0-right"></div>
          </div>
          <div class="legend-desc">
            <p id="legend-sites-desc-0"></p>
          </div>
        </div>
        <div class="legend-item">
          <div class="legend-pic pointer" id="legend-sites-pic-1">
            <div class="hexagon-left hexa-1-left"></div>
            <div class="hexagon-middle hexa-1-mid"></div>
            <div class="hexagon-right hexa-1-right"></div>
          </div>
          <div class="legend-desc">
            <p id="legend-sites-desc-1"></p>
          </div>
        </div>
        <div class="legend-item">
          <div class="legend-pic pointer" id="legend-sites-pic-2">
            <div class="hexagon-left hexa-2-left"></div>
            <div class="hexagon-middle hexa-2-mid"></div>
            <div class="hexagon-right hexa-2-right"></div>
          </div>
          <div class="legend-desc">
            <p id="legend-sites-desc-2"></p>
          </div>
        </div>
        <div class="legend-item">
          <div class="legend-pic pointer" id="legend-sites-pic-3">
            <div class="hexagon-left hexa-3-left"></div>
            <div class="hexagon-middle hexa-3-mid"></div>
            <div class="hexagon-right hexa-3-right"></div>
          </div>
          <div class="legend-desc">
            <p id="legend-sites-desc-3"></p>
          </div>
        </div>
        <div class="legend-item">
          <div class="legend-pic pointer" id="legend-sites-pic-4">
            <div class="hexagon-left hexa-4-left"></div>
            <div class="hexagon-middle hexa-4-mid"></div>
            <div class="hexagon-right hexa-4-right"></div>
          </div>
          <div class="legend-desc">
            <p id="legend-sites-desc-4"></p>
          </div>
        </div>
        <div class="legend-item">
          <div class="legend-pic pointer" id="legend-sites-pic-5">
            <div class="hexagon-left hexa-5-left"></div>
            <div class="hexagon-middle hexa-5-mid"></div>
            <div class="hexagon-right hexa-5-right"></div>
          </div>
          <div class="legend-desc">
            <p id="legend-sites-desc-5"></p>
          </div>
        </div>
        <div class="legend-item">
          <div class="legend-pic pointer" id="legend-sites-pic-6">
            <div class="hexagon-left hexa-6-left"></div>
            <div class="hexagon-middle hexa-6-mid"></div>
            <div class="hexagon-right hexa-6-right"></div>
          </div>
          <div class="legend-desc">
            <p id="legend-sites-desc-6"></p>
          </div>
        </div>
        <div class="legend-item">
          <div class="legend-pic pointer" id="legend-sites-pic-7">
            <div class="hexagon-left hexa-7-left"></div>
            <div class="hexagon-middle hexa-7-mid"></div>
            <div class="hexagon-right hexa-7-right"></div>
          </div>
          <div class="legend-desc">
            <p id="legend-sites-desc-7"></p>
          </div>
        </div>
      </div>
    </div>
  </body>

  <script src='https://api.mapbox.com/mapbox-gl-js/v3.1.2/mapbox-gl.js'></script>
  <script src='https://unpkg.com/@turf/turf@6/turf.min.js'></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
  <!-- order here matters since JS variables are used between files -->
  <!-- partial order is determined by spaces, utils first -->
  <script src="./src/utils.js"></script>

  <script src="./src/animations/anim-base.js"></script>
  <!-- need dom before map -->
  <script src="./src/animations/anim-dom.js"></script>
  <script src="./src/animations/anim-map.js"></script>
  <script src="./src/assess.js"></script>
  <script src="./src/animations/filters.js"></script>

  <script src="./src/layers/layer-sites.js"></script>
  <script src="./src/layers/layer-index.js"></script>
  <script src="./src/layers/layer-air.js"></script>
  <script src="./src/layers/layer-water.js"></script>
  <script src="./src/layers/layer-socio.js"></script>

  <script src="./src/init-nav.js"></script>
  <script src="./src/init-map.js"></script>

  <script src="./src/main.js"></script>
</html>
